version: '3'
services:
  hadoop-master1:
    image: hd-container:1.0
    hostname: hadoop-master1
    ports:
      - 8088:8088
      - 8042:8042
      - 10000:10000
      - 50070:50070
    volumes:
      - ./apps/bigdata/hadoop:/opt/bigdata/hadoop
      - ./etc/hadoop:/opt/bigdata/etc/hadoop
      - ./apps/bigdata/hive:/opt/bigdata/hive
      - ./etc/hive:/opt/bigdata/etc/hive
      - ./env/bigdata_env:/etc/profile.d/bigdata_env
  hadoop-slave1:
    image: hd-container:1.0
    hostname: hadoop-slave1
    ports:
      - 8043:8042
    volumes:
      - ./apps/bigdata/hadoop:/opt/bigdata/hadoop
      - ./etc/hadoop:/opt/bigdata/etc/hadoop
      - ./env/bigdata_env:/etc/profile.d/bigdata_env
  hadoop-slave2:
    image: hd-container:1.0
    hostname: hadoop-slave2
    ports:
      - 8044:8042
    volumes:
      - ./apps/bigdata/hadoop:/opt/bigdata/hadoop
      - ./etc/hadoop:/opt/bigdata/etc/hadoop
      - ./env/bigdata_env:/etc/profile.d/bigdata_env
  mysql1:
    environment:
        MYSQL_ROOT_PASSWORD: "123456"
        MYSQL_USER: 'hive'
        MYSQL_PASS: '123456'
    image: "mysql:5.7"
    restart: always
    ports:
        - "3306:3306"